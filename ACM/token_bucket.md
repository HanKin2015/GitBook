# token_bucket令牌桶算法

看了一通，发现还是百度百科讲的清楚好理解些。


在高并发的场景下，我们的优化和保护系统的方式通常有：多级缓存、资源隔离、熔断降级、限流等等。
https://zhuanlan.zhihu.com/p/349571329


## 百度百科
令牌桶算法是网络流量整形（Traffic Shaping）和速率限制（Rate Limiting）中最常使用的一种算法。典型情况下，令牌桶算法用来控制发送到网络上的数据的数目，并允许突发数据的发送。


要实现流量的控制，必须有一种机制可以对通过设备的流量进行度量。令牌桶（Token-Bucket）是目前最常采用的一种流量测量方法，用来评估流量速率是否超过了规定值。这里的令牌桶是指网络设备的内部存储池，而令牌则是指以给定速率填充令牌桶的虚拟信息包。

令牌桶可以看作是一个存放令牌的容器，预先设定一定的容量。系统按设定的速度向桶中放置令牌，当桶中令牌满时，多余的令牌溢出。令牌桶只是一种流量测量方法，并不能对流量进行过滤或采取某种措施，比如说丢弃数据包等，这些操作由其他功能完成，而且令牌桶中装的是令牌而不是报文分组。
