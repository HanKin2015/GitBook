# 外设

# USB协议

闩：1.门关上后，插在门内使门推不开的木棍或铁棍。 2.用闩插上。 3.姓。

# PS2键盘/鼠标
也是键盘和鼠标，但是接bai口不一du样，我们现在一般用的是USB接口zhi的。但是最早用的就是PS2接口。
两种接口各dao有优缺点。
PS2接口，不支持热插拔，接口使用不便（不懂得人可能插都插不进去，有方向的。），但是他的不冲突性能非常好（全键无冲突），所以现在一些高速要求的键盘设备或者游戏玩家还会用PS2 接口的键盘。
USB接口就不用多讲啦，即插即用，接口使用方便。而且各类设备（笔记本，台式机，一体机）通用。

otg是英文on the go 的缩写。意思是bai能够随地播放影du音文件，不需要将文件复zhi制到播放器里边，只需要用一根连线共享另dao外的存储器即可。otg连线一般是MP4的，一般用标准usb接口，能够接到MP3MP4或者移动硬盘上，播放里边的文件。在外旅行拍摄很方便的。

# 多功能USB Explorer 280
Ellisys USB Explorer的280是USB 3.0超高速5Gbps的流量监控，驱动程序和软件栈调试和性能分析复杂的协议测试分析系统。USB Explorer 280旨在通过及早发现问题并更有效地调试来减少研发时间，并可以通过验证是否符合规范来提高质量和可靠性。

　　多功能USB Explorer 280可以：

　　分析USB 3.0（SuperSpeed）和USB 2.0链接（高速，全速，低速）

　　模拟USB主机和设备

　　自动检测链接速度和SS接收器

　　录制期间上传和显示实时数据

　　记录LFPS状态并显示状态转换

　　连接到差分SMA以在原型阶段进行替代的前端探测

　　USB Explorer 280以Ellisys USB分析仪和发生器产品的成功经验为基础，并提供卓越的设计效率，其中包括嵌入式4GB内存，配置灵活的硬件和定制的处理器，具有测试和分析所需的功能USB 3.0 5GT / s SuperSpeed模式。

　　每个Ellisys USB Explorer 280硬件单元都可以充当协议分析器或数据包生成器，具体取决于配置。

　　该Ellisys USB Explorer的280分析仪包括广泛的协议分析功能，包括实时监控和捕获流量的实时上传，详细的标准和要求类，触发器，过滤器的解码和搜索功能，以及全面的统计分析。包括对扩频时钟（SSC），数据加扰和接收机均衡技术的自动支持。

　　USB Explorer 280分析仪基于直观的Ellisys Visual USB?软件应用程序，该应用程序经过充分验证，可用于性能优化和设备枚举验证，总线操作以及互操作性测试。添加了专门为USB SuperSpeed设计的新分析功能，可为用户提供全面的分析解决方案，是任何USB设计工作的理想选择。

　　所述Ellisys USB资源管理器280生成通过模拟USB主机和设备补充剂协议分析。USB Explorer 280 Generator是测试极端情况，错误恢复协议，链路电源状态转换和链路培训问题的理想选择。生成器包括一个低级，功能强大的脚本接口，受到工程师的青睐，这些工程师希望以的定时粒度控制协议序列和响应。

　　所述Ellisys USB资源管理器280是两个全功能的单元的高度灵活的捆绑可作为一个分析器和一个发电机中，两个分析仪，或两个发电机，这取决于使用者的需要。只需在单个硬件单元上同时具有这两个功能，便更加方便，这种创新而灵活的架构使工程师可以在研发团队之间共享单元。

# HCD
hcd是主机控制器的驱动程序。它位于USB主机控制器与USB系统软件之间。

一个USB控制器的实
现者必须提供一个支持它自己的控制器的主机控制器驱动器(HCD)实现
HCD是Hydraulic component design library的简称，即为液压元件设计库。

## 内存屏障
https://www.jianshu.com/p/08a0a8c984ab

## MMIO
在MMIO中，内存和I/O设备共享同一个地址空间。 MMIO是应用得最为广泛的一种IO方法，它使用相同的地址总线来处理内存和I/O设备，I/O设备的内存和寄存器被映射到与之相关联的地址。当CPU访问某个内存地址时，它可能是物理内存，也可以是某个I/O设备的内存。因此，用于访问内存的CPU指令也可来访问I/O设备。每个I/O设备监视CPU的地址总线，一旦CPU访问分配给它的地址，它就做出响应，将数据总线连接到需要访问的设备硬件寄存器。为了容纳I/O设备，CPU必须预留给I/O一个地址区域，该地址区域不能给物理内存使用。

https://www.cnblogs.com/idorax/p/7691334.html


常常看见human interface device，结果才发现是HID的全拼，人机接口设备。

# U盘只读相关
mount命令可以看见u盘设备当前是可读可写rw，可读不可写ro。
dmesg -w也能看见write protect is on。
银河麒麟出现界面无法写入，报错目标是只读的。但是终端和日志查看write protect is off，并且可以写入。
解决：echo $DESKTOP_SESSION获取session类型，然后ps查找相关session进程，killall杀死进程，这时候界面重启，这时候就能正常写入了。


























Serial ATA (SATA) or Parallel
串行

vertical垂直的

# 字符设备
字符设备是指在I/O传输过程中以字符为单位进行传输的设备，例如键盘，打印机等。在UNIX系统中，字符设备以特别文件方式在文件目录树中占据位置并拥有相应的结点。
字符设备可以使用与普通文件相同的文件操作命令对字符设备文件进行操作，例如打开、关闭、读、写等。

# 块设备
块设备是i/o设备中的一类，是将信息存储在固定大小的块中，每个块都有自己的地址，还可以在设备的任意位置读取一定长度的数据，例如硬盘,U盘，SD卡等。

# libusb源代码
https://github.com/libusb/libusb

# 中断请求
同义词 IRQ一般指中断请求
“紧急事件”须向处理器提出申请（发一个电脉冲信号），要求“中断”，即要求处理器先停下“自己手头的工作”先去处理“我的急件”，这一“申请”过程，称——中断请求。

IRQ为 Interrupt ReQuest的缩写，中文可译为中断请求。因为计算机中每个组成组件都会拥有一个独立的IRQ，除了使用PCI总线的PCI卡之外，每一组件都会单独占用一个 IRQ，且不能重复使用。
由于在计算机运行中，CPU是持续处于忙碌状态，而当硬件接口设备开始或结束收发信息，需要CPU处理信息运算时，便会透过IRQ对CPU送出中断请求讯号，让CPU储存正在进行的工作，然后暂停手边的工作，先行处理周边硬件提出的需求，这便是中断请求的作用。



